import{a as bt}from"./chunk-U573P2MG.js";import{a as ke}from"./chunk-ZXIBOFNS.js";import{a as oe}from"./chunk-BL2ADMPQ.js";import{a as ne}from"./chunk-GHAFHDBW.js";import"./chunk-ZFM7OIL7.js";import{a as F}from"./chunk-SKHWJFQN.js";import{a as N}from"./chunk-WLKQ6AAM.js";import{a as Ot,c as xt}from"./chunk-NC3Y2JCW.js";import{a as Fe,b as yt,c as wt,d as Ct,e as It,f as St,g as At,h as Et,i as Oe,j as xe,l as Ft}from"./chunk-O5FUQX4D.js";import{a as re}from"./chunk-TPOI5UY3.js";import{a as ie}from"./chunk-PFVGTO6Q.js";import{A as Y,B as Se,C as Ae,F as T,I as Q,K as g,M as X,N as Z,Q as Ee,R as J,S as gt,T as vt,U as ee,Y as te,_ as Pt,a as E,b as M}from"./chunk-AKQ36V6X.js";import{c as ft,d as Ie,e as ht,g as ve,h as _t,i as Ve}from"./chunk-6XXA7HXI.js";import{a as C}from"./chunk-BKP4CZB2.js";import{W as dt,X as ut,Y as k,a as ct,y as pt}from"./chunk-LKYXE3GT.js";import{a as Ce,i as U,k as K,l as st,m as Re}from"./chunk-ZFMEALC2.js";import{$a as _,A as be,Bb as o,Cb as r,Da as Ue,Db as b,Ea as G,Eb as j,Fb as L,G as $e,Hb as y,Kb as u,Mb as P,Nb as Je,Ob as et,Oc as lt,Pc as W,Qb as tt,Qc as x,Rb as De,Sb as ge,Tb as z,Tc as mt,Ub as q,Vb as A,Wb as a,Xa as $,Xb as B,Y as fe,Yb as w,_ as He,_a as s,bb as Ke,bc as it,ca as ye,cc as nt,da as he,dc as rt,e as I,ec as ot,fa as We,ha as we,j as Te,ma as O,mb as Ye,na as S,oa as _e,q as Ne,qb as p,rb as Qe,sb as m,ub as Xe,uc as at,va as f,vb as Ze,wa as h,yc as H}from"./chunk-YAIKHCVE.js";var R=(()=>{class t{constructor(e){this.http=e}createPerformance(e){return this.http.post(`${C.baseApiUri}/AdminPerformance/new`,e,{withCredentials:!0})}getPerformances(){return this.http.get(`${C.baseApiUri}/AdminPerformance/all`,{withCredentials:!0}).pipe($e(this.handleError("getPerformanceData")))}getPerformanceById(e){return this.http.get(`${C.baseApiUri}/AdminPerformance/${e}`,{withCredentials:!0})}updatePerformance(e){return this.http.put(`${C.baseApiUri}/AdminPerformance/update`,e,{withCredentials:!0})}deletePerformance(e){return this.http.delete(`${C.baseApiUri}/AdminPerformance/delete/${e}`,{withCredentials:!0})}handleError(e="operation",n){return i=>(console.error(i),this.log(`${e} failed: ${i.message}`),Ne(n))}log(e){console.log(`AdminPerformanceService: ${e}`)}static{this.\u0275fac=function(n){return new(n||t)(we(Ce))}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var $t=()=>[2,5,10],Ht=t=>({highlighted:t});function Wt(t,c){t&1&&b(0,"mat-progress-bar",18)}function Ut(t,c){t&1&&(o(0,"th",19),a(1,"Id"),r())}function Kt(t,c){if(t&1&&(o(0,"td",20),a(1),r()),t&2){let e=c.$implicit;s(),B(e.id)}}function Yt(t,c){t&1&&(o(0,"th",19),a(1,"Nazwa"),r())}function Qt(t,c){if(t&1&&(o(0,"td",20),a(1),r()),t&2){let e=c.$implicit;s(),B(e.title)}}function Xt(t,c){t&1&&(o(0,"th",19),a(1,"Gatunek"),r())}function Zt(t,c){if(t&1&&(o(0,"td",20),a(1),r()),t&2){let e=c.$implicit,n=P();s(),B(n.getGenreNameById(e.genre))}}function Jt(t,c){t&1&&(o(0,"th",19),a(1,"Miejsce"),r())}function ei(t,c){if(t&1&&(o(0,"td",20),a(1),r()),t&2){let e=c.$implicit,n=P();s(),B(n.getPlaceNameById(e.place))}}function ti(t,c){t&1&&(o(0,"th",19),a(1,"Czas trwania"),r())}function ii(t,c){if(t&1&&(o(0,"td",20),a(1),r()),t&2){let e=c.$implicit;s(),B(e.duration)}}function ni(t,c){t&1&&(o(0,"th",19),a(1,"Ilo\u015B\u0107 przerw"),r())}function ri(t,c){if(t&1&&(o(0,"td",20),a(1),r()),t&2){let e=c.$implicit;s(),B(e.breaksCount)}}function oi(t,c){t&1&&b(0,"tr",21)}function ai(t,c){if(t&1){let e=y();o(0,"tr",22),u("click",function(){let i=f(e).$implicit,l=P();return h(l.highlightRow(i))}),r()}if(t&2){let e=c.$implicit,n=P();m("ngClass",ot(1,Ht,n.selectedRowIndex==e.id))}}var Mt=(()=>{class t{constructor(e,n,i,l){this.performancesService=e,this.placeService=n,this.genreService=i,this.dialog=l,this.performances=[],this.genres=[],this.places=[],this.displayedColumns=["id","title","genre","place","duration","breaksCount"],this.pageSize=5,this.pageIndex=0,this.paginatedPerfomance=[],this.dataSourceWithPageSize=new Ft(this.performances),this.subscription=new I,this.destroy$=new Te,this.isLoading=!0}ngOnInit(){this.subscription.add(this.performancesService.getPerformances().pipe(fe(this.destroy$)).subscribe(e=>{this.performances=e,this.dataSourceWithPageSize.data=this.performances})),this.subscription.add(this.genreService.getGenres().pipe(fe(this.destroy$)).subscribe(e=>{this.genres=e})),this.subscription.add(this.placeService.getPlaces().pipe(fe(this.destroy$)).subscribe(e=>{this.places=e,this.isLoading=!1}))}ngAfterViewInit(){this.paginator?this.dataSourceWithPageSize.paginator=this.paginator:console.error("Paginator is not initialized.")}ngOnDestroy(){this.subscription.unsubscribe()}highlightRow(e){this.selectedRowIndex==e.id?(this.selectedRowIndex=0,this.selectedRow=void 0):(this.selectedRowIndex=e.id,this.selectedRow=e)}getGenreNameById(e){return this.genres.find(i=>i.id===e)?.name??""}getPlaceNameById(e){return this.places.find(i=>i.id===e)?.name??""}openDialog(){this.dialog.open(xt,{width:"300px",data:{message:"Czy na pewno chcesz usun\u0105\u0107 ten element?"}}).afterClosed().subscribe(n=>{n&&this.deleteGenre()})}deleteGenre(){this.selectedRow&&this.performancesService.deletePerformance(this.selectedRow.id).pipe(fe(this.destroy$)).subscribe(()=>{this.selectedRowIndex=-1,this.selectedRow=void 0,this.ngOnInit()})}static{this.\u0275fac=function(n){return new(n||t)(_(R),_(oe),_(bt),_(Ot))}}static{this.\u0275cmp=S({type:t,selectors:[["app-admin-panel-performance"]],viewQuery:function(n,i){if(n&1&&ge(ne,5),n&2){let l;z(l=q())&&(i.paginator=l.first)}},decls:33,vars:12,consts:[["class","mb-1","mode","indeterminate",4,"ngIf"],[1,"row","mb-1","d-flex","align-items-center"],[1,"col-auto"],["mat-flat-button","","color","primary","routerLink","new",1,"me-2"],["mat-flat-button","","color","accent",1,"me-2",3,"routerLink","disabled"],["mat-flat-button","","color","warn",3,"click","disabled"],["mat-table","",1,"mat-elevation-z8","pe-2",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","genre"],["matColumnDef","place"],["matColumnDef","duration"],["matColumnDef","breaksCount"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass","click",4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageIndex","pageSizeOptions"],["mode","indeterminate",1,"mb-1"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click","ngClass"]],template:function(n,i){n&1&&(p(0,Wt,1,0,"mat-progress-bar",0),o(1,"div",1)(2,"div",2)(3,"button",3),a(4,"Dodaj"),r()(),o(5,"div",2)(6,"button",4),a(7,"Edytuj"),r()(),o(8,"div",2)(9,"button",5),u("click",function(){return i.openDialog()}),a(10,"Usu\u0144"),r()()(),o(11,"table",6),j(12,7),p(13,Ut,2,0,"th",8)(14,Kt,2,1,"td",9),L(),j(15,10),p(16,Yt,2,0,"th",8)(17,Qt,2,1,"td",9),L(),j(18,11),p(19,Xt,2,0,"th",8)(20,Zt,2,1,"td",9),L(),j(21,12),p(22,Jt,2,0,"th",8)(23,ei,2,1,"td",9),L(),j(24,13),p(25,ti,2,0,"th",8)(26,ii,2,1,"td",9),L(),j(27,14),p(28,ni,2,0,"th",8)(29,ri,2,1,"td",9),L(),p(30,oi,1,0,"tr",15)(31,ai,1,3,"tr",16),r(),b(32,"mat-paginator",17)),n&2&&(m("ngIf",i.isLoading),s(6),tt("routerLink","",i.selectedRow==null?null:i.selectedRow.id,"/edit"),m("disabled",!i.selectedRow),s(3),m("disabled",!i.selectedRow),s(2),m("dataSource",i.dataSourceWithPageSize),s(19),m("matHeaderRowDef",i.displayedColumns),s(),m("matRowDefColumns",i.displayedColumns),s(),m("pageSize",i.pageSize)("pageIndex",i.pageIndex)("pageSizeOptions",rt(11,$t)))},dependencies:[lt,x,st,E,St,yt,Ct,It,Oe,At,ne,xe,Et,Fe,wt,F],styles:[".highlighted[_ngcontent-%COMP%]{background-color:#4adcf6f2}mat-sidenav-content[_ngcontent-%COMP%]{max-width:100%;overflow-x:hidden}table[_ngcontent-%COMP%]{width:100%;max-width:100%}mat-paginator[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{max-width:100%;overflow-x:hidden}.row[_ngcontent-%COMP%]{width:100%;max-width:100%}"]})}}return t})();function si(t,c){t&1&&b(0,"mat-progress-bar",23)}function ci(t,c){t&1&&(o(0,"mat-error"),a(1," Nazwa miejsca jest wymagana "),r())}function pi(t,c){t&1&&(o(0,"mat-error"),a(1," D\u0142ugo\u015B\u0107 musi by\u0107 wi\u0119cej ni\u017C 2 "),r())}function di(t,c){t&1&&(o(0,"mat-error"),a(1," D\u0142ugo\u015B\u0107 musi by\u0107 mniej ni\u017C 256 "),r())}function ui(t,c){t&1&&(o(0,"mat-error"),a(1," Nazwa spektaklu ju\u017C istnieje "),r())}function fi(t,c){if(t&1&&(o(0,"mat-option",24),a(1),r()),t&2){let e=c.$implicit;m("value",e.id),s(),w(" ",e.name," ")}}function hi(t,c){t&1&&(o(0,"mat-error"),a(1," Gatunek jest wymagany "),r())}function _i(t,c){if(t&1&&(o(0,"mat-option",24),a(1),r()),t&2){let e=c.$implicit;m("value",e.id),s(),w(" ",e.name," ")}}function gi(t,c){t&1&&(o(0,"mat-error"),a(1," Miejsce jest wymagane "),r())}function vi(t,c){if(t&1&&(o(0,"mat-option",24),a(1),r()),t&2){let e=c.$implicit;m("value",e),s(),w(" ",e," ")}}function Pi(t,c){t&1&&(o(0,"mat-error"),a(1," Czas trwania jest wymagany "),r())}function bi(t,c){if(t&1&&(o(0,"mat-option",24),a(1),r()),t&2){let e=c.$implicit;m("value",e),s(),w(" ",e," ")}}function yi(t,c){t&1&&(o(0,"mat-error"),a(1," Ilo\u015B\u0107 przerw jest wymagana "),r())}function wi(t,c){t&1&&(o(0,"mat-error"),a(1," Opis jest wymagany "),r())}function Ci(t,c){t&1&&(o(0,"mat-error"),a(1," D\u0142ugo\u015B\u0107 musi by\u0107 mniej ni\u017C 5001 znak "),r())}function Ii(t,c){if(t&1){let e=y();o(0,"button",25),u("click",function(){f(e),P();let i=A(51);return h(i.click())}),o(1,"mat-icon",26),a(2,"image"),r()()}}function Si(t,c){if(t&1){let e=y();o(0,"button",25),u("click",function(){f(e);let i=P();return h(i.onDeleteImage("mainImage"))}),o(1,"mat-icon",26),a(2,"delete"),r()()}}function Ai(t,c){t&1&&(o(0,"mat-error"),a(1," G\u0142\xF3wny obraz jest wymagany "),r())}function Ei(t,c){if(t&1&&(o(0,"div",4),b(1,"img",27),r()),t&2){let e=P();s(),m("src",e.mainImage,$)}}function Fi(t,c){if(t&1){let e=y();o(0,"button",25),u("click",function(){f(e),P();let i=A(62);return h(i.click())}),o(1,"mat-icon",26),a(2,"image"),r()()}}function Oi(t,c){if(t&1){let e=y();o(0,"button",25),u("click",function(){f(e);let i=P();return h(i.onDeleteImage("poster"))}),o(1,"mat-icon",26),a(2,"delete"),r()()}}function xi(t,c){if(t&1&&(o(0,"div",4),b(1,"img",28),r()),t&2){let e=P();s(),m("src",e.poster,$)}}function ki(t,c){t&1&&(o(0,"mat-error"),a(1," Identyfikator jest wymagany "),r())}var Vt=(()=>{class t{constructor(e,n,i,l,d,v){this.performanceService=e,this.placeService=n,this.genreService=i,this.fb=l,this.router=d,this.route=v,this.existingPerformances=[],this.subscription=new I,this.mainImage="data:image/jpeg;base64,",this.poster="data:image/jpeg;base64,",this.places=[],this.genres=[],this.durations=["0:30","1:00","1:30","1:40","2:00","2:30","3:00"],this.breaksCount=[0,1,2,3],this.selectedFiles={mainImage:void 0,poster:void 0},this.selectedFileNames={mainImage:void 0,poster:void 0},this.isFileLoaded={mainImage:!1,poster:!1},this.isLoading=!0}ngOnInit(){this.subscription.add(this.placeService.getPlaces().subscribe(e=>this.places=e)),this.subscription.add(this.genreService.getGenres().subscribe(e=>this.genres=e)),this.subscription.add(this.performanceService.getPerformances().subscribe(e=>{this.existingPerformances=e,this.isLoading=!1})),this.newPerformanceForm=this.fb.group({title:["",[g.required,g.minLength(3),g.maxLength(255)]],genre:["",[g.required]],place:["",[g.required]],duration:["",[g.required]],breaksCount:["",[g.required]],description:["",[g.required,g.maxLength(5e3)]],mainImage:[null,[g.required]],poster:[null],externalId:["",[g.required]]})}ngOnDestroy(){this.subscription.unsubscribe()}onFileSelected(e,n){let i=e.target;if(!i.files||i.files.length===0)return;let l=i.files[0];this.selectedFileNames[n]=l.name,this.isFileLoaded[n]=!1;let d=new FileReader;d.readAsDataURL(l),d.onload=()=>{this.selectedFiles[n]=d.result.split(",")[1],this[n]=d.result,this.isFileLoaded[n]=!0,this.newPerformanceForm.patchValue({[n]:l.name}),this.newPerformanceForm.get(n)?.updateValueAndValidity()},i.value=""}savePerformance(){if(this.newPerformanceForm.invalid){console.error("Formularz jest nieprawid\u0142owy lub plik nadal si\u0119 \u0142aduje!");return}let e={title:this.newPerformanceForm.value.title,genre:this.newPerformanceForm.value.genre,place:this.newPerformanceForm.value.place,duration:this.newPerformanceForm.value.duration,breaksCount:this.newPerformanceForm.value.breaksCount,description:this.newPerformanceForm.value.description,mainImage:this.selectedFiles.mainImage,poster:this.selectedFiles.poster,externalId:this.newPerformanceForm.value.externalId};this.performanceService.createPerformance(e).subscribe(()=>{this.router.navigate([".."],{relativeTo:this.route})})}onDeleteImage(e){this.selectedFiles[e]=void 0,this.selectedFileNames[e]=void 0,this.isFileLoaded[e]=!1,this.newPerformanceForm.patchValue({[e]:null}),this.newPerformanceForm.get(e)?.updateValueAndValidity(),this[e]=""}static{this.\u0275fac=function(n){return new(n||t)(_(R),_(oe),_(ke),_(te),_(K),_(U))}}static{this.\u0275cmp=S({type:t,selectors:[["app-admin-panel-performance-new"]],decls:80,vars:27,consts:[["mainImageInput",""],["posterInput",""],["class","mb-1","mode","indeterminate",4,"ngIf"],[3,"formGroup"],[1,"ms-1","mb-1","d-flex","align-items-center"],["appearance","fill",2,"width","500px"],["matInput","","formControlName","title","placeholder","Wprowad\u017A nazw\u0119 miejsca"],[4,"ngIf"],["formControlName","genre"],[3,"value",4,"ngFor","ngForOf"],["formControlName","place"],["formControlName","duration"],["formControlName","breaksCount"],["matInput","","formControlName","description","placeholder","Wprowad\u017A opis"],["type","file","accept","image/*","hidden","",3,"change"],["matInput","","required","","readonly","",3,"click","value"],["mat-icon-button","","matSuffix","",3,"click",4,"ngIf"],["class","ms-1 mb-1 d-flex align-items-center",4,"ngIf"],["matInput","","readonly","",3,"click","value"],["matInput","","formControlName","externalId","placeholder","Wprowad\u017A identyfikator"],[1,"me-4"],["mat-flat-button","","color","primary","type","button",3,"click","disabled"],["mat-flat-button","","color","warn","type","button",3,"click"],["mode","indeterminate",1,"mb-1"],[3,"value"],["mat-icon-button","","matSuffix","",3,"click"],["matSuffix",""],["width","25%","height","25%","alt","G\u0142\xF3wny obraz",3,"src"],["width","25%","height","25%","alt","Plakat",3,"src"]],template:function(n,i){if(n&1){let l=y();p(0,si,1,0,"mat-progress-bar",2),o(1,"form",3)(2,"div",4)(3,"mat-form-field",5)(4,"mat-label"),a(5,"Nazwa spektaklu"),r(),b(6,"input",6),p(7,ci,2,0,"mat-error",7)(8,pi,2,0,"mat-error",7)(9,di,2,0,"mat-error",7)(10,ui,2,0,"mat-error",7),r()(),o(11,"div",4)(12,"mat-form-field",5)(13,"mat-label"),a(14,"Gatunek"),r(),o(15,"mat-select",8),p(16,fi,2,2,"mat-option",9),r(),p(17,hi,2,0,"mat-error",7),r()(),o(18,"div",4)(19,"mat-form-field",5)(20,"mat-label"),a(21,"Miejsce"),r(),o(22,"mat-select",10),p(23,_i,2,2,"mat-option",9),r(),p(24,gi,2,0,"mat-error",7),r()(),o(25,"div",4)(26,"mat-form-field",5)(27,"mat-label"),a(28,"Czas trwania"),r(),o(29,"mat-select",11),p(30,vi,2,2,"mat-option",9),r(),p(31,Pi,2,0,"mat-error",7),r()(),o(32,"div",4)(33,"mat-form-field",5)(34,"mat-label"),a(35,"Ilo\u015B\u0107 przerw"),r(),o(36,"mat-select",12),p(37,bi,2,2,"mat-option",9),r(),p(38,yi,2,0,"mat-error",7),r()(),o(39,"div",4)(40,"mat-form-field",5)(41,"mat-label"),a(42,"Opis"),r(),b(43,"textarea",13),p(44,wi,2,0,"mat-error",7)(45,Ci,2,0,"mat-error",7),r()(),o(46,"div",4)(47,"mat-form-field",5)(48,"mat-label"),a(49,"G\u0142\xF3wny obraz"),r(),o(50,"input",14,0),u("change",function(v){return f(l),h(i.onFileSelected(v,"mainImage"))}),r(),o(52,"input",15),u("click",function(){f(l);let v=A(51);return h(v.click())}),r(),p(53,Ii,3,0,"button",16)(54,Si,3,0,"button",16)(55,Ai,2,0,"mat-error",7),r()(),p(56,Ei,2,1,"div",17),o(57,"div",4)(58,"mat-form-field",5)(59,"mat-label"),a(60,"Plakat"),r(),o(61,"input",14,1),u("change",function(v){return f(l),h(i.onFileSelected(v,"poster"))}),r(),o(63,"input",18),u("click",function(){f(l);let v=A(62);return h(v.click())}),r(),p(64,Fi,3,0,"button",16)(65,Oi,3,0,"button",16),r()(),p(66,xi,2,1,"div",17),o(67,"div",4)(68,"mat-form-field",5)(69,"mat-label"),a(70,"Identyfikator na stronie bilety24.pl"),r(),b(71,"input",19),p(72,ki,2,0,"mat-error",7),r()()(),o(73,"div",4)(74,"div",20)(75,"button",21),u("click",function(){return f(l),h(i.savePerformance())}),a(76," Zapisz "),r()(),o(77,"div")(78,"button",22),u("click",function(){return f(l),h(i.router.navigate([".."],{relativeTo:i.route}))}),a(79," Anuluj "),r()()()}if(n&2){let l,d,v,ae,le,me,se,ce,pe,de,V,ue;m("ngIf",i.isLoading),s(),m("formGroup",i.newPerformanceForm),s(6),m("ngIf",(l=i.newPerformanceForm.get("title"))==null?null:l.hasError("required")),s(),m("ngIf",(d=i.newPerformanceForm.get("title"))==null?null:d.hasError("minlength")),s(),m("ngIf",(v=i.newPerformanceForm.get("title"))==null?null:v.hasError("maxlength")),s(),m("ngIf",(ae=i.newPerformanceForm.get("title"))==null?null:ae.hasError("placeExists")),s(6),m("ngForOf",i.genres),s(),m("ngIf",(le=i.newPerformanceForm.get("genre"))==null?null:le.hasError("required")),s(6),m("ngForOf",i.places),s(),m("ngIf",(me=i.newPerformanceForm.get("place"))==null?null:me.hasError("required")),s(6),m("ngForOf",i.durations),s(),m("ngIf",(se=i.newPerformanceForm.get("duration"))==null?null:se.hasError("required")),s(6),m("ngForOf",i.breaksCount),s(),m("ngIf",(ce=i.newPerformanceForm.get("breaksCount"))==null?null:ce.hasError("required")),s(6),m("ngIf",(pe=i.newPerformanceForm.get("description"))==null?null:pe.hasError("required")),s(),m("ngIf",(de=i.newPerformanceForm.get("description"))==null?null:de.hasError("maxlength")),s(7),m("value",i.selectedFileNames.mainImage||"Nie wybrano pliku"),s(),m("ngIf",!i.selectedFileNames.mainImage),s(),m("ngIf",i.selectedFileNames.mainImage),s(),m("ngIf",(V=i.newPerformanceForm.get("mainImage"))==null?null:V.hasError("required")),s(),m("ngIf",i.isFileLoaded.mainImage),s(7),m("value",i.selectedFileNames.poster||"Nie wybrano pliku"),s(),m("ngIf",!i.selectedFileNames.poster),s(),m("ngIf",i.selectedFileNames.poster),s(),m("ngIf",i.isFileLoaded.poster),s(6),m("ngIf",(ue=i.newPerformanceForm.get("externalId"))==null?null:ue.hasError("required")),s(3),m("disabled",i.newPerformanceForm.invalid)}},dependencies:[W,x,E,Se,T,re,Y,F,Ee,Q,X,Z,J,ee,ie,k,M,N,Ae],styles:["mat-sidenav-content[_ngcontent-%COMP%]{max-width:80%;overflow-x:hidden}"]})}}return t})();function Mi(t,c){t&1&&b(0,"mat-progress-bar",24)}function Ti(t,c){t&1&&(o(0,"mat-error"),a(1," Nazwa miejsca jest wymagana "),r())}function Ni(t,c){t&1&&(o(0,"mat-error"),a(1," D\u0142ugo\u015B\u0107 musi by\u0107 wi\u0119cej ni\u017C 2 "),r())}function Di(t,c){t&1&&(o(0,"mat-error"),a(1," D\u0142ugo\u015B\u0107 musi by\u0107 mniej ni\u017C 256 "),r())}function Ri(t,c){t&1&&(o(0,"mat-error"),a(1," Nazwa spektaklu ju\u017C istnieje "),r())}function Vi(t,c){if(t&1&&(o(0,"mat-option",25),a(1),r()),t&2){let e=c.$implicit;m("value",e.id),s(),w(" ",e.name," ")}}function ji(t,c){t&1&&(o(0,"mat-error"),a(1," Gatunek jest wymagany "),r())}function Li(t,c){if(t&1&&(o(0,"mat-option",25),a(1),r()),t&2){let e=c.$implicit;m("value",e.id),s(),w(" ",e.name," ")}}function zi(t,c){t&1&&(o(0,"mat-error"),a(1," Miejsce jest wymagane "),r())}function qi(t,c){if(t&1&&(o(0,"mat-option",25),a(1),r()),t&2){let e=c.$implicit;m("value",e),s(),w(" ",e," ")}}function Bi(t,c){t&1&&(o(0,"mat-error"),a(1," Czas trwania jest wymagany "),r())}function Gi(t,c){if(t&1&&(o(0,"mat-option",25),a(1),r()),t&2){let e=c.$implicit;m("value",e),s(),w(" ",e," ")}}function $i(t,c){t&1&&(o(0,"mat-error"),a(1," Ilo\u015B\u0107 przerw jest wymagana "),r())}function Hi(t,c){t&1&&(o(0,"mat-error"),a(1," Opis jest wymagany "),r())}function Wi(t,c){t&1&&(o(0,"mat-error"),a(1," D\u0142ugo\u015B\u0107 musi by\u0107 mniej ni\u017C 5001 znak "),r())}function Ui(t,c){if(t&1){let e=y();o(0,"button",26),u("click",function(){f(e),P();let i=A(53);return h(i.click())}),o(1,"mat-icon",27),a(2,"image"),r()()}}function Ki(t,c){if(t&1){let e=y();o(0,"button",26),u("click",function(){f(e);let i=P();return h(i.onDeleteImage("mainImage"))}),o(1,"mat-icon",27),a(2,"delete"),r()()}}function Yi(t,c){t&1&&(o(0,"mat-error"),a(1," G\u0142\xF3wny obraz jest wymagany "),r())}function Qi(t,c){if(t&1&&(o(0,"div",4),b(1,"img",28),r()),t&2){let e=P();s(),m("src",e.mainImage,$)}}function Xi(t,c){if(t&1){let e=y();o(0,"button",26),u("click",function(){f(e),P();let i=A(64);return h(i.click())}),o(1,"mat-icon",27),a(2,"image"),r()()}}function Zi(t,c){if(t&1){let e=y();o(0,"button",26),u("click",function(){f(e);let i=P();return h(i.onDeleteImage("poster"))}),o(1,"mat-icon",27),a(2,"delete"),r()()}}function Ji(t,c){if(t&1&&(o(0,"div",4),b(1,"img",29),r()),t&2){let e=P();s(),m("src",e.poster,$)}}function en(t,c){t&1&&(o(0,"mat-error"),a(1," Identyfikator jest wymagany "),r())}var jt=(()=>{class t{constructor(e,n,i,l,d,v){this.performanceService=e,this.placeService=n,this.genreService=i,this.fb=l,this.router=d,this.route=v,this.existingPerformances=[],this.mainImage="data:image/jpeg;base64,",this.poster="data:image/jpeg;base64,",this.subscription=new I,this.places=[],this.genres=[],this.durations=["0:30","1:00","1:30","1:40","2:00","2:30","3:00"],this.breaksCount=[0,1,2,3],this.selectedFiles={mainImage:void 0,poster:void 0},this.selectedFileNames={mainImage:void 0,poster:void 0},this.isFileLoaded={mainImage:!1,poster:!1},this.isLoading=!0}ngOnInit(){this.editPerformanceForm=this.fb.group({id:[""],title:["",[g.required,g.minLength(3),g.maxLength(255)]],genre:["",[g.required]],place:["",[g.required]],duration:["",[g.required]],breaksCount:["",[g.required]],description:["",[g.required,g.maxLength(5e3)]],mainImage:[null,[g.required]],poster:[null],externalId:["",[g.required]]},{updateOn:"blur"});let e=+this.route.snapshot.paramMap.get("id");e&&be({places:this.placeService.getPlaces(),genres:this.genreService.getGenres(),performance:this.performanceService.getPerformanceById(e)}).subscribe(({places:n,genres:i,performance:l})=>{this.places=n,this.genres=i,l&&(this.editPerformanceForm.patchValue({id:l.id,title:l.title,genre:l.genre,place:l.place,duration:this.durations.includes(l.duration.substring(1,5))?l.duration?.substring(1,5):"",breaksCount:this.breaksCount.includes(Number(l.breaksCount))?Number(l.breaksCount):"",description:l.description,externalId:l.externalId}),Object.keys(this.editPerformanceForm.controls).forEach(d=>{this.editPerformanceForm.get(d)?.updateValueAndValidity()}),this.mainImage+=l.mainImage,this.updateFileState("mainImage",l.mainImage,"Przes\u0142any g\u0142\xF3wny obraz"),this.poster+=l.poster,this.updateFileState("poster",l.poster,"Przes\u0142any plakat"),this.selectedFiles.mainImage=l.mainImage,this.selectedFiles.poster=l.poster,this.selectedFileNames.mainImage=l.mainImage?"Przes\u0142any g\u0142\xF3wny obraz":void 0,this.selectedFileNames.poster=l.poster?"Przes\u0142any plakat":void 0,this.isFileLoaded.mainImage=!!l.mainImage,this.isFileLoaded.poster=!!l.poster,this.isLoading=!1)})}ngOnDestroy(){this.subscription.unsubscribe()}updateFileState(e,n,i){n&&(this.selectedFiles[e]=n,this.selectedFileNames[e]=i,this.isFileLoaded[e]=!0,this.editPerformanceForm.patchValue({[e]:i}),this.editPerformanceForm.get(e)?.updateValueAndValidity())}onFileSelected(e,n){let i=e.target;if(i.files&&i.files.length>0){let l=i.files[0];this.selectedFileNames[n]=l.name,this.isFileLoaded[n]=!1;let d=new FileReader;d.readAsDataURL(l),d.onload=()=>{this.selectedFiles[n]=d.result.split(",")[1],this.isFileLoaded[n]=!0,this[n]=d.result,this.editPerformanceForm.patchValue({[n]:l.name}),this.editPerformanceForm.get(n)?.updateValueAndValidity()},i.value=""}}savePerformance(){if(this.editPerformanceForm.invalid){console.error("Formularz jest nieprawid\u0142owy lub plik nadal si\u0119 \u0142aduje!");return}let e={id:this.editPerformanceForm.value.id,title:this.editPerformanceForm.value.title,genre:this.editPerformanceForm.value.genre,place:this.editPerformanceForm.value.place,duration:this.editPerformanceForm.value.duration,breaksCount:this.editPerformanceForm.value.breaksCount,description:this.editPerformanceForm.value.description,mainImage:this.selectedFiles.mainImage,poster:this.selectedFiles.poster,externalId:+this.editPerformanceForm.value.externalId};this.performanceService.updatePerformance(e).subscribe(()=>{this.router.navigate(["../.."],{relativeTo:this.route})})}onDeleteImage(e){this.selectedFiles[e]=void 0,this.selectedFileNames[e]=void 0,this.isFileLoaded[e]=!1,this.editPerformanceForm.patchValue({[e]:null}),this.editPerformanceForm.get(e)?.updateValueAndValidity(),this[e]=""}static{this.\u0275fac=function(n){return new(n||t)(_(R),_(oe),_(ke),_(te),_(K),_(U))}}static{this.\u0275cmp=S({type:t,selectors:[["app-admin-panel-performance-edit"]],decls:82,vars:29,consts:[["mainImageInput",""],["posterInput",""],["class","mb-1","mode","indeterminate",4,"ngIf"],[3,"formGroup"],[1,"ms-1","mb-1","d-flex","align-items-center"],["appearance","fill",2,"width","500px"],["matInput","","formControlName","title","placeholder","Wprowad\u017A nazw\u0119 miejsca"],[4,"ngIf"],["mat-flat-button","","color","primary",1,"ms-2",3,"click"],["formControlName","genre",3,"value"],[3,"value",4,"ngFor","ngForOf"],["formControlName","place",3,"value"],["formControlName","duration"],["formControlName","breaksCount"],["matInput","","formControlName","description","placeholder","Wprowad\u017A opis"],["type","file","accept","image/*","hidden","",3,"change"],["matInput","","readonly","","required","",3,"click","value"],["mat-icon-button","","matSuffix","",3,"click",4,"ngIf"],["class","ms-1 mb-1 d-flex align-items-center",4,"ngIf"],["matInput","","readonly","",3,"click","value"],["matInput","","formControlName","externalId","placeholder","Wprowad\u017A identyfikator"],[1,"me-4"],["mat-flat-button","","color","primary","type","button",3,"click","disabled"],["mat-flat-button","","color","warn","type","button",3,"click"],["mode","indeterminate",1,"mb-1"],[3,"value"],["mat-icon-button","","matSuffix","",3,"click"],["matSuffix",""],["width","25%","height","25%","alt","G\u0142\xF3wny obraz",3,"src"],["width","25%","height","25%","alt","plakat",3,"src"]],template:function(n,i){if(n&1){let l=y();p(0,Mi,1,0,"mat-progress-bar",2),o(1,"form",3)(2,"div",4)(3,"mat-form-field",5)(4,"mat-label"),a(5,"Nazwa spektaklu"),r(),b(6,"input",6),p(7,Ti,2,0,"mat-error",7)(8,Ni,2,0,"mat-error",7)(9,Di,2,0,"mat-error",7)(10,Ri,2,0,"mat-error",7),r(),o(11,"button",8),u("click",function(){return f(l),h(i.router.navigate(["implementers"],{relativeTo:i.route}))}),a(12,"Edytuj realizator\xF3w"),r()(),o(13,"div",4)(14,"mat-form-field",5)(15,"mat-label"),a(16,"Gatunek"),r(),o(17,"mat-select",9),p(18,Vi,2,2,"mat-option",10),r(),p(19,ji,2,0,"mat-error",7),r()(),o(20,"div",4)(21,"mat-form-field",5)(22,"mat-label"),a(23,"Miejsce"),r(),o(24,"mat-select",11),p(25,Li,2,2,"mat-option",10),r(),p(26,zi,2,0,"mat-error",7),r()(),o(27,"div",4)(28,"mat-form-field",5)(29,"mat-label"),a(30,"Czas trwania"),r(),o(31,"mat-select",12),p(32,qi,2,2,"mat-option",10),r(),p(33,Bi,2,0,"mat-error",7),r()(),o(34,"div",4)(35,"mat-form-field",5)(36,"mat-label"),a(37,"Ilo\u015B\u0107 przerw"),r(),o(38,"mat-select",13),p(39,Gi,2,2,"mat-option",10),r(),p(40,$i,2,0,"mat-error",7),r()(),o(41,"div",4)(42,"mat-form-field",5)(43,"mat-label"),a(44,"Opis"),r(),b(45,"textarea",14),p(46,Hi,2,0,"mat-error",7)(47,Wi,2,0,"mat-error",7),r()(),o(48,"div",4)(49,"mat-form-field",5)(50,"mat-label"),a(51,"G\u0142\xF3wny obraz"),r(),o(52,"input",15,0),u("change",function(v){return f(l),h(i.onFileSelected(v,"mainImage"))}),r(),o(54,"input",16),u("click",function(){f(l);let v=A(53);return h(v.click())}),r(),p(55,Ui,3,0,"button",17)(56,Ki,3,0,"button",17)(57,Yi,2,0,"mat-error",7),r()(),p(58,Qi,2,1,"div",18),o(59,"div",4)(60,"mat-form-field",5)(61,"mat-label"),a(62,"Plakat"),r(),o(63,"input",15,1),u("change",function(v){return f(l),h(i.onFileSelected(v,"poster"))}),r(),o(65,"input",19),u("click",function(){f(l);let v=A(64);return h(v.click())}),r(),p(66,Xi,3,0,"button",17)(67,Zi,3,0,"button",17),r()(),p(68,Ji,2,1,"div",18),o(69,"div",4)(70,"mat-form-field",5)(71,"mat-label"),a(72,"Identyfikator na stronie bilety24.pl"),r(),b(73,"input",20),p(74,en,2,0,"mat-error",7),r()()(),o(75,"div",4)(76,"div",21)(77,"button",22),u("click",function(){return f(l),h(i.savePerformance())}),a(78," Zapisz "),r()(),o(79,"div")(80,"button",23),u("click",function(){return f(l),h(i.router.navigate(["../.."],{relativeTo:i.route}))}),a(81," Anuluj "),r()()()}if(n&2){let l,d,v,ae,le,me,se,ce,pe,de,V,ue,Pe,Ge;m("ngIf",i.isLoading),s(),m("formGroup",i.editPerformanceForm),s(6),m("ngIf",(l=i.editPerformanceForm.get("title"))==null?null:l.hasError("required")),s(),m("ngIf",(d=i.editPerformanceForm.get("title"))==null?null:d.hasError("minlength")),s(),m("ngIf",(v=i.editPerformanceForm.get("title"))==null?null:v.hasError("maxlength")),s(),m("ngIf",(ae=i.editPerformanceForm.get("title"))==null?null:ae.hasError("placeExists")),s(7),m("value",(le=i.editPerformanceForm.get("genre"))==null?null:le.value),s(),m("ngForOf",i.genres),s(),m("ngIf",(me=i.editPerformanceForm.get("genre"))==null?null:me.hasError("required")),s(5),m("value",(se=i.editPerformanceForm.get("place"))==null?null:se.value),s(),m("ngForOf",i.places),s(),m("ngIf",(ce=i.editPerformanceForm.get("place"))==null?null:ce.hasError("required")),s(6),m("ngForOf",i.durations),s(),m("ngIf",(pe=i.editPerformanceForm.get("duration"))==null?null:pe.hasError("required")),s(6),m("ngForOf",i.breaksCount),s(),m("ngIf",(de=i.editPerformanceForm.get("breaksCount"))==null?null:de.hasError("required")),s(6),m("ngIf",((V=i.editPerformanceForm.get("description"))==null?null:V.hasError("required"))&&((V=i.editPerformanceForm.get("description"))==null?null:V.dirty)),s(),m("ngIf",(ue=i.editPerformanceForm.get("description"))==null?null:ue.hasError("maxlength")),s(7),m("value",i.selectedFileNames.mainImage||"Nie wybrano pliku"),s(),m("ngIf",!i.selectedFiles.mainImage),s(),m("ngIf",i.selectedFiles.mainImage),s(),m("ngIf",((Pe=i.editPerformanceForm.get("mainImage"))==null?null:Pe.hasError("required"))&&((Pe=i.editPerformanceForm.get("mainImage"))==null?null:Pe.dirty)),s(),m("ngIf",i.isFileLoaded.mainImage),s(7),m("value",i.selectedFileNames.poster||"Nie wybrano pliku"),s(),m("ngIf",!i.selectedFiles.poster),s(),m("ngIf",i.selectedFiles.poster),s(),m("ngIf",i.isFileLoaded.poster),s(6),m("ngIf",(Ge=i.editPerformanceForm.get("externalId"))==null?null:Ge.hasError("required")),s(3),m("disabled",i.editPerformanceForm.invalid)}},dependencies:[W,x,E,Se,T,re,Y,F,Ee,Q,X,Z,J,ee,ie,k,M,N,Ae]})}}return t})();var Lt=(()=>{class t{constructor(e){this.http=e}getImplementers(e){return this.http.get(`${C.baseApiUri}/AdminPerformanceInfo/${e}/implementers`,{withCredentials:!0})}addImplementers(e,n){return this.http.post(`${C.baseApiUri}/AdminPerformanceInfo/${e}/implementers`,n,{withCredentials:!0})}updateImplementer(e,n,i){return this.http.put(`${C.baseApiUri}/AdminPerformanceInfo/${e}/implementers/${n}`,i,{withCredentials:!0})}deleteImplementer(e,n){return this.http.delete(`${C.baseApiUri}/AdminPerformanceInfo/${e}/implementers/${n}`,{withCredentials:!0})}static{this.\u0275fac=function(n){return new(n||t)(we(Ce))}}static{this.\u0275prov=ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function nn(t,c){t&1&&b(0,"mat-progress-bar",12)}function rn(t,c){if(t&1){let e=y();o(0,"div",13)(1,"mat-form-field",14)(2,"mat-label"),a(3,"Imi\u0119"),r(),b(4,"input",15),r(),o(5,"mat-form-field",14)(6,"mat-label"),a(7,"Nazwisko"),r(),b(8,"input",16),r(),o(9,"mat-form-field",14)(10,"mat-label"),a(11,"Rola"),r(),b(12,"input",17),r(),o(13,"div",18)(14,"button",19),u("click",function(){let i=f(e).index,l=P();return h(l.saveRow(i))}),o(15,"mat-icon"),a(16,"save"),r()(),o(17,"button",20),u("click",function(){let i=f(e).index,l=P();return h(l.removeRow(i))}),o(18,"mat-icon"),a(19,"delete"),r()()()()}if(t&2){let e,n=c.$implicit,i=c.index;m("formGroupName",i),s(14),m("disabled",!n.dirty||n.invalid||!((e=n.get("id"))!=null&&e.value))}}function on(t,c){t&1&&(o(0,"div",21),a(1," Brak realizator\xF3w. Kliknij \u201EDodaj\u201D, aby doda\u0107 pierwszego. "),r())}var zt=(()=>{class t{get implementersFA(){return this.form.get("implementers")}constructor(e,n,i,l,d){this.route=e,this.router=n,this.fb=i,this.adminPerformanceInfoService=l,this.adminPerformanceService=d,this.isLoading=!0,this.form=this.fb.group({implementers:this.fb.array([])}),this.performanceName="",this.subscription=new I}ngOnInit(){this.subscription.add(this.route.paramMap.subscribe(e=>{this.performanceId=Number(e.get("id")),this.load(),this.loadPerformanceName(),this.isLoading=!1}))}ngOnDestroy(){this.subscription.unsubscribe()}load(){this.adminPerformanceInfoService.getImplementers(this.performanceId).subscribe(e=>{this.implementersFA.clear(),e.forEach(n=>this.implementersFA.push(this.createRow(n)))})}loadPerformanceName(){this.adminPerformanceService.getPerformanceById(this.performanceId).subscribe(e=>{this.performanceName=e.title})}createRow(e){return this.fb.group({id:[e?.id??0],firstName:[e?.firstName??"",g.required],lastName:[e?.lastName??"",g.required],role:[e?.role??"",g.required]})}addRow(){this.implementersFA.push(this.createRow())}removeRow(e){let i=this.implementersFA.at(e).get("id")?.value;if(!i){this.implementersFA.removeAt(e);return}this.isLoading=!0,this.adminPerformanceInfoService.deleteImplementer(this.performanceId,i).subscribe(()=>{this.implementersFA.removeAt(e),this.load(),this.isLoading=!1})}saveNewOnly(){let e=this.implementersFA.controls.map(n=>n.value).filter(n=>!n.id);e.length&&(this.isLoading=!0,this.adminPerformanceInfoService.addImplementers(this.performanceId,{implementers:e}).subscribe(n=>{this.load(),this.isLoading=!1}))}saveRow(e){let n=this.implementersFA.at(e);if(n.invalid){n.markAllAsTouched();return}let i=n.get("id")?.value,l=n.value;i&&(this.isLoading=!0,this.adminPerformanceInfoService.updateImplementer(this.performanceId,i,l).subscribe(d=>{n.patchValue(d,{emitEvent:!1}),n.markAsPristine(),this.isLoading=!1}))}saveAllExisting(){let e=this.implementersFA.controls.filter(n=>!!n.get("id")?.value&&n.dirty);e.length&&(this.isLoading=!0,be(e.map(n=>{let i=n.get("id").value;return this.adminPerformanceInfoService.updateImplementer(this.performanceId,i,n.value).pipe(He(l=>{n.patchValue(l,{emitEvent:!1}),n.markAsPristine()}))})).subscribe(n=>{this.isLoading=!1}))}back(){this.router.navigate(["../"],{relativeTo:this.route})}static{this.\u0275fac=function(n){return new(n||t)(_(U),_(K),_(te),_(Lt),_(R))}}static{this.\u0275cmp=S({type:t,selectors:[["app-admin-performance-edit-implementers"]],decls:20,vars:5,consts:[["class","mb-1","mode","indeterminate",4,"ngIf"],[1,"impl-page"],[1,"impl-header"],[1,"impl-performance-name"],[1,"impl-actions"],["mat-stroked-button","",3,"click"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","accent",3,"click"],[1,"impl-card",3,"formGroup"],["formArrayName","implementers"],["class","impl-row",3,"formGroupName",4,"ngFor","ngForOf"],["class","impl-empty",4,"ngIf"],["mode","indeterminate",1,"mb-1"],[1,"impl-row",3,"formGroupName"],["appearance","fill",1,"impl-field"],["matInput","","formControlName","firstName"],["matInput","","formControlName","lastName"],["matInput","","formControlName","role"],[1,"impl-row-actions"],["mat-icon-button","","color","primary",3,"click","disabled"],["mat-icon-button","","color","warn",1,"impl-delete",3,"click"],[1,"impl-empty"]],template:function(n,i){n&1&&(p(0,nn,1,0,"mat-progress-bar",0),o(1,"div",1)(2,"div",2)(3,"h2"),a(4,"Realizatorzy"),r(),o(5,"div",3),a(6),r(),o(7,"div",4)(8,"button",5),u("click",function(){return i.back()}),a(9," Wr\xF3\u0107 "),r(),o(10,"button",6),u("click",function(){return i.addRow()}),a(11," Dodaj "),r(),o(12,"button",6),u("click",function(){return i.saveAllExisting()}),a(13," Zapisz zmiany "),r(),o(14,"button",7),u("click",function(){return i.saveNewOnly()}),a(15," Zapisz nowe "),r()()(),o(16,"mat-card",8)(17,"mat-card-content",9),p(18,rn,20,2,"div",10)(19,on,2,0,"div",11),r()()()),n&2&&(m("ngIf",i.isLoading),s(6),w(" ",i.performanceName," "),s(10),m("formGroup",i.form),s(2),m("ngForOf",i.implementersFA.controls),s(),m("ngIf",i.implementersFA.length===0))},dependencies:[W,x,E,T,re,Y,F,Q,X,Z,J,ee,gt,vt,M,N],styles:['.impl-page[_ngcontent-%COMP%]{max-width:980px;padding:0 24px}.impl-header[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:space-between;gap:16px;margin-bottom:16px}.impl-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:600}.impl-actions[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.impl-card[_ngcontent-%COMP%]{border-radius:12px}.impl-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 96px;gap:16px;align-items:center;padding:10px 0}.impl-field[_ngcontent-%COMP%]{width:100%}.impl-row-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;align-items:center}.impl-delete[_ngcontent-%COMP%]{margin-top:2px}.impl-empty[_ngcontent-%COMP%]{padding:18px 4px;opacity:.75}.impl-title[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.impl-performance-name[_ngcontent-%COMP%]{font-size:14px;color:#0009}@media (max-width: 900px){.impl-row[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr auto;grid-template-areas:"name surname del" "role role del"}.impl-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]:nth-child(1){grid-area:name}.impl-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]:nth-child(2){grid-area:surname}.impl-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]:nth-child(3){grid-area:role}.impl-delete[_ngcontent-%COMP%]{grid-area:del;align-self:start}}@media (max-width: 560px){.impl-page[_ngcontent-%COMP%]{padding:0 12px}.impl-row[_ngcontent-%COMP%]{grid-template-columns:1fr auto;grid-template-areas:"name del" "surname del" "role del"}}']})}}return t})();var an=[{path:"",component:Mt},{path:"new",component:Vt},{path:":id/edit",component:jt},{path:":id/edit/implementers",component:zt}],qt=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=_e({type:t})}static{this.\u0275inj=he({imports:[Re.forChild(an),Re]})}}return t})();var ln=["panel"],mn=["*"];function sn(t,c){if(t&1){let e=y();o(0,"div",1,0),u("@panelAnimation.done",function(i){f(e);let l=P();return h(l._animationDone.next(i))}),et(2),r()}if(t&2){let e=c.id,n=P();Ze(n._classList),Xe("mat-mdc-autocomplete-visible",n.showPanel)("mat-mdc-autocomplete-hidden",!n.showPanel)("mat-primary",n._color==="primary")("mat-accent",n._color==="accent")("mat-warn",n._color==="warn"),m("id",n.id)("@panelAnimation",n.isOpen?"visible":"hidden"),Qe("aria-label",n.ariaLabel||null)("aria-labelledby",n._getPanelAriaLabelledby(e))}}var cn=ft("panelAnimation",[_t("void, hidden",ve({opacity:0,transform:"scaleY(0.8)"})),Ve(":enter, hidden => visible",[ht([Ie("0.03s linear",ve({opacity:1})),Ie("0.12s cubic-bezier(0, 0, 0.2, 1)",ve({transform:"scaleY(1)"}))])]),Ve(":leave, visible => hidden",[Ie("0.075s linear",ve({opacity:0}))])]),pn=0,Be=class{constructor(c,e){this.source=c,this.option=e}},dn=new We("mat-autocomplete-default-options",{providedIn:"root",factory:un});function un(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}var Bt=(()=>{class t{get isOpen(){return this._isOpen&&this.showPanel}_setColor(e){this._color=e,this._changeDetectorRef.markForCheck()}set classList(e){this._classList=e,this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}constructor(e,n,i,l){this._changeDetectorRef=e,this._elementRef=n,this._defaults=i,this._activeOptionChanges=I.EMPTY,this._animationDone=new G,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new G,this.opened=new G,this.closed=new G,this.optionActivated=new G,this.id=`mat-autocomplete-${pn++}`,this.inertGroups=l?.SAFARI||!1,this.autoActiveFirstOption=!!i.autoActiveFirstOption,this.autoSelectActiveOption=!!i.autoSelectActiveOption,this.requireSelection=!!i.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new pt(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){let n=new Be(this,e);this.optionSelected.emit(n)}_getPanelAriaLabelledby(e){if(this.ariaLabel)return null;let n=e?e+" ":"";return this.ariaLabelledby?n+this.ariaLabelledby:e}_skipPredicate(){return!1}static{this.\u0275fac=function(n){return new(n||t)(_(at),_(Ue),_(dn),_(ct))}}static{this.\u0275cmp=S({type:t,selectors:[["mat-autocomplete"]],contentQueries:function(n,i,l){if(n&1&&(De(l,k,5),De(l,ut,5)),n&2){let d;z(d=q())&&(i.options=d),z(d=q())&&(i.optionGroups=d)}},viewQuery:function(n,i){if(n&1&&(ge(Ke,7),ge(ln,5)),n&2){let l;z(l=q())&&(i.template=l.first),z(l=q())&&(i.panel=l.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[O.None,"aria-label","ariaLabel"],ariaLabelledby:[O.None,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[O.HasDecoratorInputTransform,"autoActiveFirstOption","autoActiveFirstOption",H],autoSelectActiveOption:[O.HasDecoratorInputTransform,"autoSelectActiveOption","autoSelectActiveOption",H],requireSelection:[O.HasDecoratorInputTransform,"requireSelection","requireSelection",H],panelWidth:"panelWidth",disableRipple:[O.HasDecoratorInputTransform,"disableRipple","disableRipple",H],classList:[O.None,"class","classList"],hideSingleSelectionIndicator:[O.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",H]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[it([{provide:dt,useExisting:t}]),Ye,nt],ngContentSelectors:mn,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(n,i){n&1&&(Je(),p(0,sn,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape);box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[cn]},changeDetection:0})}}return t})();var Zr=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=_e({type:t})}static{this.\u0275inj=he({imports:[mt,qt,E,Oe,ne,xe,Fe,T,F,Pt,ie,k,Bt,M,N]})}}return t})();export{Zr as AdminPanelPerformanceModule};
