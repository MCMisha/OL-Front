import{a as l}from"./chunk-SKHWJFQN.js";import{a as L}from"./chunk-BKP4CZB2.js";import"./chunk-LKYXE3GT.js";import{a as P,i as R,l as M,m as j}from"./chunk-ZFMEALC2.js";import{$a as u,Bb as r,Cb as s,Db as c,Mb as d,Pb as k,Pc as O,Qc as _,Sc as C,Tc as z,Wa as T,Wb as a,Xa as x,Xb as g,Yb as w,_a as n,ca as F,da as v,e as b,ec as B,fc as I,gc as N,ha as E,na as h,oa as y,qb as m,sb as o}from"./chunk-YAIKHCVE.js";var D=(()=>{class e{constructor(t){this.http=t}getNews(){return this.http.get(`${L.baseApiUri}/News/all`)}getNewsById(t){return this.http.get(`${L.baseApiUri}/News/by-id/${t}`)}static{this.\u0275fac=function(i){return new(i||e)(E(P))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var K=e=>["/news",e];function Q(e,p){e&1&&c(0,"mat-progress-bar",4)}function V(e,p){if(e&1&&c(0,"img",14),e&2){let t=d().$implicit;k("alt",t.title),o("src","data:image/jpeg;base64,"+t.mainImage,x)}}function W(e,p){if(e&1&&(r(0,"div",7)(1,"div",8),m(2,V,1,2,"img",9),r(3,"div",10)(4,"h5"),a(5),s(),r(6,"p",11),a(7),I(8,"date"),s(),r(9,"p",12),a(10),s(),r(11,"a",13),a(12," Czytaj wi\u0119cej "),s()()()()),e&2){let t=p.$implicit;n(2),o("ngIf",t.mainImage),n(3),g(t.title),n(2),w(" ",N(8,5,t.creationDate,"dd MMM yyyy")," "),n(3),w(" ",t.subtitle," "),n(),o("routerLink",B(8,K,t.id))}}function X(e,p){if(e&1&&(r(0,"div",5),m(1,W,13,10,"div",6),s()),e&2){let t=d();n(),o("ngForOf",t.news)}}var A=(()=>{class e{constructor(t){this.newsService=t,this.news=[],this.subscription=new b,this.isLoading=!0}ngOnInit(){this.subscription.add(this.newsService.getNews().subscribe(t=>{this.news=t,this.isLoading=!1}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)(u(D))}}static{this.\u0275cmp=h({type:e,selectors:[["app-news"]],decls:5,vars:2,consts:[["class","mb-1","mode","indeterminate",4,"ngIf"],[1,"container","py-4"],[1,"mb-4"],["class","row",4,"ngIf"],["mode","indeterminate",1,"mb-1"],[1,"row"],["class","col-md-4 mb-4",4,"ngFor","ngForOf"],[1,"col-md-4","mb-4"],[1,"card","shadow-sm","h-100","news-card"],["class","card-img-top",3,"src","alt",4,"ngIf"],[1,"card-body"],[1,"text-muted","small"],[1,"text-muted"],[1,"btn","btn-outline-primary","w-100","mt-2",3,"routerLink"],[1,"card-img-top",3,"src","alt"]],template:function(i,f){i&1&&(m(0,Q,1,0,"mat-progress-bar",0),r(1,"div",1)(2,"h1",2),a(3,"Aktualno\u015Bci"),s(),m(4,X,2,1,"div",3),s()),i&2&&(o("ngIf",f.isLoading),n(4),o("ngIf",f.news.length))},dependencies:[O,_,M,l,C]})}}return e})();function Y(e,p){e&1&&c(0,"mat-progress-bar",2)}function Z(e,p){if(e&1&&c(0,"img",9),e&2){let t=d(2);o("src","data:image/jpeg;base64,"+t.news.mainImage,x)}}function ee(e,p){if(e&1&&(r(0,"div",3)(1,"h1"),a(2),s(),r(3,"h4",4),a(4),s(),r(5,"p",5),a(6),I(7,"date"),s(),m(8,Z,1,1,"img",6),c(9,"div",7),r(10,"button",8),a(11," \u2190 Powr\xF3t "),s()()),e&2){let t=d();n(2),g(t.news.title),n(2),g(t.news.subtitle),n(2),w(" ",N(7,5,t.news.creationDate,"dd MMMM yyyy")," "),n(2),o("ngIf",t.news.mainImage),n(),o("innerHTML",t.news.content,T)}}var H=(()=>{class e{constructor(t,i){this.newsService=t,this.route=i,this.isLoading=!0,this.subscription=new b}ngOnInit(){this.subscription.add(this.route.params.subscribe(t=>{if(t.id){let i=+t.id;this.loadNews(i),this.isLoading=!1}}))}ngOnDestroy(){this.subscription.unsubscribe()}loadNews(t){this.subscription.add(this.newsService.getNewsById(t).subscribe(i=>{this.news=i,this.isLoading=!1}))}static{this.\u0275fac=function(i){return new(i||e)(u(D),u(R))}}static{this.\u0275cmp=h({type:e,selectors:[["app-news-details"]],decls:2,vars:2,consts:[["class","mb-1","mode","indeterminate",4,"ngIf"],["class","container py-4",4,"ngIf"],["mode","indeterminate",1,"mb-1"],[1,"container","py-4"],[1,"text-muted"],[1,"text-muted","mb-3"],["class","w-100 rounded mb-4","alt","G\u0142\xF3wny obrazek",3,"src",4,"ngIf"],[3,"innerHTML"],["routerLink","/news",1,"btn","btn-secondary","mt-4"],["alt","G\u0142\xF3wny obrazek",1,"w-100","rounded","mb-4",3,"src"]],template:function(i,f){i&1&&m(0,Y,1,0,"mat-progress-bar",0)(1,ee,12,8,"div",1),i&2&&(o("ngIf",f.isLoading),n(),o("ngIf",f.news))},dependencies:[_,M,l,C]})}}return e})();var te=[{path:"",component:A},{path:":id",component:H}],U=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=y({type:e})}static{this.\u0275inj=v({imports:[j.forChild(te),j]})}}return e})();var he=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=y({type:e})}static{this.\u0275inj=v({imports:[z,U,l]})}}return e})();export{he as NewsModule};
