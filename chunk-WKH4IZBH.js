import{a as Z}from"./chunk-5UQXPAKH.js";import{a as X,c as Y}from"./chunk-6BIFB6R6.js";import{a as g,b as V,c as W,d as B,e as U,f as q,g as G,h as J,i as C,j as w,l as K}from"./chunk-QG3KZPTG.js";import{a as c}from"./chunk-ZE4P6AXO.js";import"./chunk-BKP4CZB2.js";import{R as h}from"./chunk-PJK7FPEW.js";import"./chunk-Q64FFBLU.js";import{l as Q,m as D}from"./chunk-ZZO7MJK5.js";import{$b as $,Ab as M,Bb as R,Db as T,Gb as S,Ib as y,Jc as F,Lb as E,Nb as H,Ob as j,Oc as L,Pb as O,Rb as d,Sb as b,W as A,Wa as l,Xa as P,_b as N,ba as p,e as v,j as x,la as I,ma as u,mb as f,ob as m,ta as k,ua as z,xb as a,yb as o,zb as _}from"./chunk-YKDFZCCH.js";var ne=()=>[2,5,10],ae=e=>({highlighted:e});function oe(e,r){e&1&&(a(0,"th",13),d(1,"Id"),o())}function le(e,r){if(e&1&&(a(0,"td",14),d(1),o()),e&2){let t=r.$implicit;l(),b(t.id)}}function re(e,r){e&1&&(a(0,"th",13),d(1,"Nazwa"),o())}function me(e,r){if(e&1&&(a(0,"td",14),d(1),o()),e&2){let t=r.$implicit;l(),b(t.name)}}function de(e,r){e&1&&_(0,"tr",15)}function ce(e,r){if(e&1){let t=T();a(0,"tr",16),S("click",function(){let n=k(t).$implicit,s=y();return z(s.highlightRow(n))}),o()}if(e&2){let t=r.$implicit,i=y();m("ngClass",$(1,ae,i.selectedRowIndex==t.id))}}var te=(()=>{class e{constructor(t,i){this.dialog=t,this.adminPlaceService=i,this.places=[],this.pageSize=5,this.pageIndex=0,this.displayedColumns=["id","name"],this.dataSourceWithPageSize=new K(this.places),this.subscription=new v,this.destroy$=new x}ngOnInit(){this.subscription.add(this.adminPlaceService.getPlaces().pipe(A(this.destroy$)).subscribe(t=>{this.places=t,this.dataSourceWithPageSize.data=this.places}))}highlightRow(t){this.selectedRowIndex==t.id?(this.selectedRowIndex=0,this.selectedRow=void 0):(this.selectedRowIndex=t.id,this.selectedRow=t)}openDialog(){this.dialog.open(Y,{width:"300px",data:{message:"Czy na pewno chcesz usun\u0105\u0107 ten element?"}}).afterClosed().subscribe(i=>{i&&console.log("TODO: usun\u0105\u0107 miejsce")})}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)(P(X),P(Z))}}static{this.\u0275cmp=I({type:e,selectors:[["app-admin-panel-place"]],viewQuery:function(i,n){if(i&1&&H(c,5),i&2){let s;j(s=O())&&(n.paginator=s.first)}},decls:20,vars:11,consts:[[1,"row","mb-1","d-flex","align-items-center"],[1,"col-auto"],["mat-flat-button","","color","primary","routerLink","new",1,"me-2"],["mat-flat-button","","color","accent",1,"me-2",3,"routerLink","disabled"],["mat-flat-button","","color","warn",3,"click","disabled"],["mat-table","",1,"mat-elevation-z8","pe-2",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass","click",4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageIndex","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click","ngClass"]],template:function(i,n){i&1&&(a(0,"div",0)(1,"div",1)(2,"button",2),d(3,"Dodaj"),o()(),a(4,"div",1)(5,"button",3),d(6,"Edytuj"),o()(),a(7,"div",1)(8,"button",4),S("click",function(){return n.openDialog()}),d(9,"Usu\u0144"),o()()(),a(10,"table",5),M(11,6),f(12,oe,2,0,"th",7)(13,le,2,1,"td",8),R(),M(14,9),f(15,re,2,0,"th",7)(16,me,2,1,"td",8),R(),f(17,de,1,0,"tr",10)(18,ce,1,3,"tr",11),o(),_(19,"mat-paginator",12)),i&2&&(l(5),E("routerLink","",n.selectedRow==null?null:n.selectedRow.id,"/edit"),m("disabled",!n.selectedRow),l(3),m("disabled",!n.selectedRow),l(2),m("dataSource",n.dataSourceWithPageSize),l(7),m("matHeaderRowDef",n.displayedColumns),l(),m("matRowDefColumns",n.displayedColumns),l(),m("pageSize",n.pageSize)("pageIndex",n.pageIndex)("pageSizeOptions",N(10,ne)))},dependencies:[F,Q,h,q,V,B,U,C,G,c,w,J,g,W],styles:[".highlighted[_ngcontent-%COMP%]{background-color:#00f}"]})}}return e})();var se=[{path:"",component:te}],ie=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=u({type:e})}static{this.\u0275inj=p({imports:[D.forChild(se),D]})}}return e})();var Le=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=u({type:e})}static{this.\u0275inj=p({imports:[L,ie,h,C,c,w,g]})}}return e})();export{Le as AdminPanelPlaceModule};
